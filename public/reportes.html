<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <title>Reporte de Solicitudes</title>
    <link rel="stylesheet" href="styles.css" />
</head>

<body>

    <nav class="navbar">
        <div class="logo">
            <img src="https://cdn-icons-png.flaticon.com/512/3652/3652191.png" alt="Logo Inventario">
            <span>Inventario Posgrado</span>
        </div>
        <ul>
            <li><a href="index.html">Inicio</a></li>
            <li><a href="ingresar.html">Ingresar</a></li>
            <li><a href="retirar.html">Retirar</a></li>
            <li><a href="modificar.html">Inventario</a></li>
            <li><a href="reportes.html" class="active">Reportes</a></li>
            <li><a href="login.html">Log In</a></li>
        </ul>
    </nav>

    <h1>Reporte de Solicitudes</h1>

    <div style="text-align: right; margin-bottom: 15px; display: flex; justify-content: end; gap: 10px;">
        <button id="btnExcel" class="btn-export">Exportar Excel</button>
        <button id="btnPDF" class="btn-export">Exportar PDF</button>
        <button id="btnPrint" class="btn-export">Imprimir</button>
    </div>

    <div class="tabla-responsive">
        <div class="table-container">
            <table id="tabla-solicitudes">
                <thead>
                    <tr>
                        <th>Nro.</th>
                        <th>Código</th>
                        <th>Producto</th>
                        <th>Departamento Destino</th>
                        <th>Solicitante</th>
                        <th>Cantidad</th>
                        <th>Unidad Medida</th>
                        <th>Fecha</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
        </div>
    </div>

    <!-- FORMATO DE IMPRESIÓN -->
    <div id="print-area" style="display: none;">
        <div style="padding: 40px; font-family: Helvetica, sans-serif; font-size: 10pt;">
            <!-- HEADER -->
            <div style="display: flex; justify-content: space-between;">
                <div>
                    <strong>Universidad Mayor de San Simón</strong><br>
                    Unidad Sub Almacén Posgrado Derecho
                </div>
                <div style="text-align: right;">
                    Fecha: <span id="print-fecha-impresion"></span><br>
                    Página 1
                </div>
            </div>

            <h2 style="text-align: center; margin-top: 20px;">Nota de Salida</h2>

            <!-- ENCABEZADO -->
            <div style="display: flex; justify-content: space-between; margin-top: 20px;">
                <div>
                    <div>Solicitante: <span id="print-solicitante"></span></div>
                    <div>Departamento destino: <span id="print-departamento"></span></div>
                </div>
                <div style="text-align: right;">
                    Fecha de solicitud: <span id="print-fecha-solicitud"></span>
                </div>
            </div>

            <!-- TABLA -->
            <table style="width: 100%; border-collapse: collapse; margin-top: 20px;" border="1">
                <thead style="background-color: #588FCA; color: white;">
                    <tr>
                        <th style="padding: 5px;">Nro.</th>
                        <th style="padding: 5px;">Código del Producto</th>
                        <th style="padding: 5px;">Producto</th>
                        <th style="padding: 5px;">Unidad Medida</th>
                        <th style="padding: 5px;">Cantidad</th>
                    </tr>
                </thead>
                <tbody id="print-tabla-body"></tbody>
            </table>

            <!-- FIRMA -->
            <div style="text-align: center; margin-top: 100px;">
                <div style="border-top: 1px solid #000; width: 200px; margin: 0 auto;"></div>
                <div>Recibí Conforme</div>
                <div>SOLICITANTE</div>
            </div>

            <!-- FOOTER -->
            <div style="margin-top: 40px; border-top: 1px solid #000; text-align: center; padding-top: 5px;">
                Sistema de Almacenes
            </div>
        </div>
    </div>


    <script type="module" src="./src/adapters/ui/reportes.js"></script>
    <script type="module" src="./src/adapters/ui/auth-navbar.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const currentPath = window.location.pathname.split("/").pop();
            const navLinks = document.querySelectorAll(".navbar a");

            navLinks.forEach(link => {
                if (link.getAttribute("href") === currentPath) {
                    link.classList.add("active");
                }
            });
        });
    </script>

</body>

</html>